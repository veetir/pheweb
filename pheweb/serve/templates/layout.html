<!doctype html>
<head>
<title>{% include 'title.html' %}</title>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/jquery.dataTables.min.css">
<link rel="stylesheet" href="https://cdn.datatables.net/1.12.1/css/dataTables.bootstrap5.min.css">
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.datatables.net/1.12.1/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.12.1/js/dataTables.bootstrap5.min.js"></script>
<script src="https://unpkg.com/underscore@1.13.7/underscore-min.js"></script>
<script src="https://unpkg.com/corejs-typeahead@1.2.1/dist/typeahead.bundle.min.js" integrity="sha256-VCsWOz+0GuHdS/sIICtQNTFJdbaDI80rxvoB7BXabrU=" crossorigin="anonymous"></script>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/css/bootstrap.min.css" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.5/dist/js/bootstrap.bundle.min.js" crossorigin="anonymous"></script>
<link rel="stylesheet" type="text/css" href="{{ url_for('bp.static', filename='custom.css') }}">
<script type="text/javascript">
  window.model = window.model || {};
  window.model.urlprefix = {{ config.URLPREFIX|tojson }};
  window.model.hg_build_number = {{ config.HG_BUILD_NUMBER }};
  window.model.grch_build_number = {{ config.GRCH_BUILD_NUMBER }};
</script>

<link href="{{ url_for('.static', filename='common.css') }}" rel="stylesheet" type="text/css">
<script src="{{ url_for('.static', filename='common.js') }}" type="text/javascript"></script>
{% block in_head %}{% endblock %}
<link rel="icon" href="{{ url_for('bp.static', filename='favicon.ico') }}" />
</head>

<body>
  <nav class="navbar navbar-light bg-light">
    <div class="container-fluid">
      <!-- Left side: Brand and search form -->
      <div class="d-flex align-items-center">
        {% block navbar_left %}
        <a class="navbar-brand fw-bold" href="{{ url_for('.homepage') }}" style="font-size: 15px; color: #333;">PheWeb</a>
        <div id="navbar_form_container" class="ms-3">
          <form action="{{ url_for('.go') }}" class="d-flex" role="search">
            <input id="navbar-searchbox-input" name="query" class="form-control me-2 typeahead" autocomplete="off" type="text" placeholder="Search...">
          </form>
        </div>
        {% endblock %}
      </div>
      
      <!-- Right side: Navigation links shown horizontally -->
      <ul class="navbar-nav d-flex flex-row ms-auto mb-0">
        <li class="nav-item me-3">
          <a class="nav-link fw-bold text-dark" href="{{ url_for('.phenotypes_page') }}">Phenotypes</a>
        </li>
        <li class="nav-item me-3">
          <a class="nav-link fw-bold text-dark" href="{{ url_for('.top_hits_page') }}">Top hits</a>
        </li>
        <li class="nav-item me-3">
          <a class="nav-link text-dark" href="{{ url_for('.about_page') }}" data-bs-toggle="tooltip" data-bs-placement="bottom" title="About">
            <i class="bi bi-info-circle" style="font-size: 1.2rem;"></i>
          </a>
        </li>
        {% if current_user and current_user.is_authenticated %}
        <li class="nav-item">
          <a class="nav-link fw-bold text-dark" href="{{ url_for('.logout') }}">Logout ({{ current_user.email }})</a>
        </li>
        {% endif %}
      </ul>
    </div>
  </nav>   
{% block body %}
<div class="container-fluid">
    {% with messages = get_flashed_messages() %}
      {% if messages %}
        <br><br> {# Don't get stuck behind the navbar #}
        {% for message in messages %}
          <div class="alert alert-danger" role="alert"><b>Error:</b> {{ message }}</div>
        {% endfor %}
      {% endif %}
    {% endwith %}
    {% block contained %}
    {% endblock %}
</div>
{% endblock %}
</body>
